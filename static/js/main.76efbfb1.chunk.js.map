{"version":3,"sources":["Components/apis/index.js","Components/CitySearch/index.js","Components/Weather/CurrentWeather.js","Components/Weather/FiveDaysWeather.js","Components/Weather/index.js","Components/ErrorInfo/index.js","img/background-img.jpg","App.js","index.js"],"names":["API_KEY","process","CitySearch","submitText","handleSearchOnClick","handleCityChange","handleCountryChange","handleUnitOnChange","handleGetLocation","openWeather","showAlert","unit","useCity","useState","city","setCity","country","setCountry","useEffect","timeOut","setTimeout","clearTimeout","Form","className","onSubmit","e","preventDefault","Collapse","in","Button","onClick","Group","FloatingLabel","controlId","label","Control","type","placeholder","value","onChange","target","autoFocus","href","rel","Check","name","inline","checked","CurrentWeather","data","Object","keys","length","constructor","weather","mainWeather","main","countryData","sys","cityName","wind","timeZone","timezone","sunrise","sunset","imgUrl","icon","displayTemp","displaySpeed","today","Date","getTime","capitalizeFirstLetter","str","charAt","toUpperCase","slice","style","fontSize","unix","format","tz","src","alt","Math","round","temp","description","id","temp_max","temp_min","feels_like","humidity","pressure","speed","gust","clouds","all","visibility","FiveDaysWeather","list","todayForecast","i","weatherData","timeUTC","dt","moment","utc","push","todayForecastChart","entry","entryChart","time","fiveDaysForecast3hrs","_","groupBy","shift","fiveDaysForecast","forEach","key","index","high","Number","MIN_VALUE","low","MAX_VALUE","max","min","dailyForecast","date","ResponsiveContainer","width","height","LineChart","Line","dataKey","stroke","des","XAxis","YAxis","Text","x","y","dx","dy","offset","angle","Tooltip","map","dt_txt","Weather","handleRefresh","handleChangeReport","forecast","active","setActive","classNameCurr","setClassNameCurr","classNameFiveDays","setClassNameFiveDays","Container","fluid","ListGroup","Item","as","Link","to","path","exact","from","marginTop","ErrorInfo","handleClose","error","Alert","variant","Heading","App","partOfDay","setWeather","setForecast","getHours","setTime","setOpenWeather","setShowAlert","setError","setUnit","refresh","setRefresh","report","setReport","showInput","setShowInput","location","setLocation","useLocation","setUseLocation","setUseCity","Axios","get","getWeatherDataByCity","then","res","console","log","catch","response","cod","request","getWeatherData","get5daysWeatherByCity","get5daysWeatherData","lat","lon","getWeatherDataCurrLocation","get5daysDataCurrLocation","axios","interceptors","use","status","Promise","reject","setPosition","position","coords","latitude","longitude","basename","backgroundImage","backgroundImg","backgroundSize","backgroundRepeat","backgroundPosition","newCity","newCountry","navigator","geolocation","getCurrentPosition","Fade","unmountOnExit","val","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76efbfb1.chunk.js","sourcesContent":["import Axios from \"axios\";\r\n\r\nconst API_KEY = process.env.REACT_APP_OPEN_WEATHER_API_KEY;\r\n\r\nexport const getWeatherData = (city, country, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/weather?q=${city},${country}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n\r\nexport const getWeatherDataByCity = (city, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n\r\nexport const get5daysWeatherByCity = (city, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n\r\nexport const get5daysWeatherData = (city, country, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/forecast?q=${city},${country}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n\r\nexport const getWeatherDataCurrLocation = (lat, lon, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n\r\nexport const get5daysDataCurrLocation = (lat, lon, unit) =>\r\n  Axios.get(\r\n    `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=${unit}&appid=${API_KEY}`\r\n  );\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Form, FloatingLabel, Collapse } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default function CitySearch({\r\n  handleSearchOnClick,\r\n  handleCityChange,\r\n  handleCountryChange,\r\n  handleUnitOnChange,\r\n  handleGetLocation,\r\n  openWeather,\r\n  showAlert,\r\n  unit,\r\n  useCity,\r\n}) {\r\n  //state to only trigger the onChanges when user stopped typing\r\n  const [city, setCity] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n\r\n  //set the submit text of the btn\r\n  let submitText;\r\n  if (!openWeather && !showAlert) {\r\n    submitText = \"Show me the weather\";\r\n  } else {\r\n    submitText = \"Hide\";\r\n  }\r\n\r\n  //this effect will delay the onChange function of the city and country field\r\n  useEffect(() => {\r\n    //wait 1 second before sending the state up to the parent\r\n    const timeOut = setTimeout(() => {\r\n      handleCityChange(city);\r\n      handleCountryChange(country);\r\n    }, 850);\r\n    //clear the timeout when done\r\n    return () => {\r\n      clearTimeout(timeOut);\r\n    };\r\n  }, [city, country, handleCityChange, handleCountryChange]);\r\n\r\n  //reset the city if user does not use city search\r\n  useEffect(() => {\r\n    if (!useCity) setCity(\"\");\r\n  }, [useCity]);\r\n\r\n  return (\r\n    <Form\r\n      className=\"container align-items-center \r\n            justify-content-center p-2 col-xs-12 col-md-7 col-lg-5\"\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}\r\n    >\r\n      {/* if the weather component is showing, hide the input using collapse */}\r\n      <Collapse in={!openWeather}>\r\n        <div>\r\n          <div className=\"d-flex justify-content-center mb-3\">\r\n            <Button\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"weather alert\"\r\n              onClick={handleGetLocation}\r\n            >\r\n              Use my current location\r\n            </Button>\r\n          </div>\r\n          <hr />\r\n          <Form.Group className=\"\">\r\n            <p className=\"lead\">Search by City:</p>\r\n            <FloatingLabel\r\n              controlId=\"cityName\"\r\n              label=\"City name:\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"City...\"\r\n                value={city}\r\n                onChange={(e) => setCity(e.target.value)}\r\n                autoFocus\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"countryCode\"\r\n              label=\"Country code (optional):\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Country code...\"\r\n                onChange={(e) => setCountry(e.target.value)}\r\n              />\r\n            </FloatingLabel>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <small className=\"form-text text-muted\">\r\n              Use country code for a more precise result. Refer to this{\" \"}\r\n              <a\r\n                href=\"https://www.iso.org/obp/ui/#home\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                link\r\n              </a>\r\n              &nbsp;for the country codes.\r\n            </small>\r\n          </Form.Group>\r\n          <div className=\"mt-2\">\r\n            <Form.Group className=\"d-flex justify-content-center\">\r\n              <Form.Check\r\n                name=\"unitRadio\"\r\n                inline\r\n                label=\"Metric\"\r\n                type=\"radio\"\r\n                onChange={handleUnitOnChange}\r\n                value=\"metric\"\r\n                checked={unit === \"metric\"}\r\n              />\r\n              <Form.Check\r\n                inline\r\n                label=\"Imperial\"\r\n                name=\"unitRadio\"\r\n                onChange={handleUnitOnChange}\r\n                type=\"radio\"\r\n                value=\"imperial\"\r\n                checked={unit === \"imperial\"}\r\n              />\r\n            </Form.Group>\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n      <div className=\"d-flex justify-content-center\">\r\n        <Button\r\n          className=\"mt-1\"\r\n          onClick={handleSearchOnClick}\r\n          aria-expanded=\"false\"\r\n          aria-controls=\"weather alert\"\r\n          type=\"submit\"\r\n        >\r\n          {submitText}\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\n\r\nexport default function CurrentWeather({ data, unit }) {\r\n  //return null if no data\r\n  if (data && Object.keys(data).length === 0 && data.constructor === Object) {\r\n    return null;\r\n  }\r\n\r\n  //get the weather description and icon\r\n  const weather = data.weather[0];\r\n  //get the main weather from the data we passed\r\n  const mainWeather = data.main;\r\n  //get the data about the country\r\n  const countryData = data.sys;\r\n  //get the city name\r\n  const cityName = data.name;\r\n  //about the wind\r\n  const wind = data.wind;\r\n  //about the time zone\r\n  const timeZone = data.timezone;\r\n  //about the sunrise and sunset and convert to UTC\r\n  const sunrise = data.sys.sunrise + timeZone;\r\n  const sunset = data.sys.sunset + timeZone;\r\n\r\n  //get the url of the icon\r\n  const imgUrl = `https://openweathermap.org/img/wn/${weather.icon}.png`;\r\n\r\n  //unit is metric or imperial?\r\n  const displayTemp = unit === \"metric\" ? \"C\" : \"F\";\r\n  const displaySpeed =\r\n    unit === \"metric\" ? \"m/s (meter/sec)\" : \"mph (miles per hour)\";\r\n\r\n  //get the time in unix, convert it to local time using the timezone in the api\r\n  const today = (new Date().getTime() + timeZone * 1000) / 1000;\r\n\r\n  //capitalize the first letter in our returned weather cond\r\n  const capitalizeFirstLetter = (str) => {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"lead mb-0 text-center\" style={{ fontSize: \"2vh\" }}>\r\n        This is the current weather of {cityName}, {countryData.country} as\r\n        of&nbsp;\r\n        <Moment unix format=\"LLL\" tz=\"UTC\">\r\n          {today}\r\n        </Moment>{\" \"}\r\n        (local time):\r\n      </p>\r\n      <div\r\n        className=\"d-flex flex-row align-items-center \r\n                    justify-content-center\"\r\n      >\r\n        <img src={imgUrl} alt=\"weather condition\"></img>\r\n        <p className=\"h2 mb-0\">\r\n          {Math.round(mainWeather.temp)}°{displayTemp} -{\" \"}\r\n          {capitalizeFirstLetter(weather.description)}\r\n        </p>\r\n      </div>\r\n      <p className=\"text-center fs-6\">\r\n        {capitalizeFirstLetter(weather.description)} condition is forecasted for\r\n        now.\r\n      </p>\r\n      <div className=\"card d-flex justify-content-center\">\r\n        <div className=\"card-header\">\r\n          <span className=\"lead\">Detailed weather report:</span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div id=\"weatherInfo\">\r\n            <span className=\"text-muted\">High: </span>\r\n            <span>\r\n              {Math.round(mainWeather.temp_max)}°{displayTemp}.\r\n            </span>\r\n            <br />\r\n            <span className=\"text-muted\">Low: </span>\r\n            <span>\r\n              {Math.round(mainWeather.temp_min)}°{displayTemp}.\r\n            </span>\r\n            <br />\r\n            <span className=\"text-muted\">Feels like: </span>\r\n            <span>\r\n              {Math.round(mainWeather.feels_like)}°{displayTemp}.\r\n            </span>\r\n            <br />\r\n            <span className=\"text-muted\">Humidity: </span>\r\n            <span>{Math.round(mainWeather.humidity)}%.</span>\r\n            <br />\r\n            <span className=\"text-muted\">Atmospheric pressure: </span>\r\n            <span>{Math.round(mainWeather.pressure)} hPa.</span>\r\n            <hr />\r\n            <span className=\"text-muted\">Wind speed: </span>\r\n            <span>\r\n              {wind.speed} {displaySpeed}.\r\n            </span>\r\n            <br />\r\n            <span className=\"text-muted\">Wind gust: </span>\r\n            <span>\r\n              {wind.gust} {displaySpeed}.\r\n            </span>\r\n            <hr />\r\n            <span className=\"text-muted\">Cloudiness: </span>\r\n            <span>{data.clouds.all}%.</span>\r\n            <br />\r\n            <span className=\"text-muted\">Visibility: </span>\r\n            <span>{data.visibility / 1000} km.</span>\r\n            <hr />\r\n            <span className=\"text-muted\">Sunrise: </span>\r\n            <span>\r\n              <Moment unix format=\"LT\" tz=\"UTC\">\r\n                {sunrise}\r\n              </Moment>\r\n              .\r\n            </span>\r\n            <br />\r\n            <span className=\"text-muted\">Sunset: </span>\r\n            <span>\r\n              <Moment unix format=\"LT\" tz=\"UTC\">\r\n                {sunset}\r\n              </Moment>\r\n              .\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nimport moment from \"moment\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  ResponsiveContainer,\r\n  XAxis,\r\n  Tooltip,\r\n  YAxis,\r\n  Text,\r\n} from \"recharts\";\r\nimport _ from \"lodash\";\r\n\r\nexport default function FiveDaysWeather({ data, unit }) {\r\n  //return null if no data\r\n  if (data && Object.keys(data).length === 0 && data.constructor === Object) {\r\n    return null;\r\n  }\r\n\r\n  const weather = data.list;\r\n  //get the city\r\n  const cityName = data.city.name;\r\n  //get the data about the country\r\n  const country = data.city.country;\r\n  //about the time zone\r\n  const timeZone = data.city.timezone;\r\n\r\n  //get the time in unix, convert it to local time using the timezone in the api\r\n  const today = (new Date().getTime() + timeZone * 1000) / 1000;\r\n\r\n  //unit is metric or imperial?\r\n  const displayTemp = unit === \"metric\" ? \"C\" : \"F\";\r\n\r\n  //capitalize the first letter in our returned weather cond\r\n  const capitalizeFirstLetter = (str) => {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  };\r\n\r\n  //today forecast\r\n  let todayForecast = [];\r\n\r\n  //get the today's weather\r\n  //since we have a maximum of 8 data per day, we only need to loop\r\n  //thru the first 8 elements to get the data\r\n  for (let i = 0; i < 8; i++) {\r\n    let weatherData = weather[i];\r\n    let timeUTC = weatherData.dt;\r\n    //if the weather date is today\r\n    if (\r\n      //convert to local time time (in const today) and compare\r\n      //if we have the same data then it's the today's weather\r\n      //and the next day weather till the current time\r\n      //today + 86400 means the next day (24 hours == 86400 sec)\r\n      moment\r\n        .unix(timeUTC + timeZone)\r\n        .utc()\r\n        .format(\"YYYY-MM-DD\") ===\r\n        moment.unix(today).utc().format(\"YYYY-MM-DD\") ||\r\n      moment\r\n        .unix(timeUTC + timeZone)\r\n        .utc()\r\n        .format(\"YYYY-MM-DD\") ===\r\n        moment\r\n          .unix(today + 86400)\r\n          .utc()\r\n          .format(\"YYYY-MM-DD\")\r\n    )\r\n      todayForecast.push(weatherData);\r\n  }\r\n\r\n  //add to the chart\r\n  let todayForecastChart = [];\r\n  for (const entry of todayForecast) {\r\n    //new obj storing less items\r\n    const entryChart = {\r\n      temp: entry.main.temp,\r\n      feels_like: entry.main.feels_like,\r\n      time: moment\r\n        .unix(entry.dt + timeZone)\r\n        .utc()\r\n        .format(\"HH:mm\"),\r\n    };\r\n    //push to the array\r\n    todayForecastChart.push(entryChart);\r\n  }\r\n\r\n  //use lodash groupBy function to extract each date from the data\r\n  const fiveDaysForecast3hrs = _.groupBy(weather, (entry) =>\r\n    moment\r\n      .unix(entry.dt + timeZone)\r\n      .utc()\r\n      .format(\"ddd\")\r\n  );\r\n\r\n  //convert to key's (date) array\r\n  const keys = Object.keys(fiveDaysForecast3hrs);\r\n\r\n  //remove the first date (today's date)\r\n  keys.shift();\r\n\r\n  let fiveDaysForecast = [];\r\n\r\n  keys.forEach((key, index) => {\r\n    //loop thru the weather by hours and get the avg high and low\r\n    let high = Number.MIN_VALUE;\r\n    let low = Number.MAX_VALUE;\r\n    //continue to loop thru the obj array\r\n    fiveDaysForecast3hrs[key].forEach((entry, index) => {\r\n      //find the high and low\r\n      high = Math.max(entry.main.temp_max, high);\r\n      low = Math.min(entry.main.temp_min, low);\r\n    });\r\n    //round the number\r\n    high = Math.round(high);\r\n    low = Math.round(low);\r\n    //construct an obj containing the daily forecast\r\n    const dailyForecast = {\r\n      date: key,\r\n      high: high,\r\n      low: low,\r\n    };\r\n    //add to the array\r\n    fiveDaysForecast.push(dailyForecast);\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {/* display the local time */}\r\n      <p className=\"lead mb-0 text-center mb-3\" style={{ fontSize: \"2vh\" }}>\r\n        This is the forecast of {cityName}, {country} as of&nbsp;\r\n        <Moment unix format=\"LLL\" tz=\"UTC\">\r\n          {today}\r\n        </Moment>{\" \"}\r\n        (local time):\r\n      </p>\r\n      <div className=\"card\">\r\n        <div className=\"card-header lead\">3-hour forecast:</div>\r\n        <div className=\"card-body d-flex flex-column overflow-auto \">\r\n          <ResponsiveContainer width=\"98%\" height={300}>\r\n            <LineChart data={todayForecastChart}>\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"temp\"\r\n                stroke=\"#8884d8\"\r\n                name=\"Temperature\"\r\n                des\r\n              />\r\n              <XAxis dataKey=\"time\" />\r\n              <YAxis\r\n                width={40}\r\n                label={() => {\r\n                  return (\r\n                    <Text\r\n                      x={-35}\r\n                      y={30}\r\n                      dx={50}\r\n                      dy={150}\r\n                      offset={0}\r\n                      angle={-90}\r\n                    >\r\n                      Temperature\r\n                    </Text>\r\n                  );\r\n                }}\r\n              />\r\n              <Tooltip />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n\r\n          {/* map each weather to one entry */}\r\n          {todayForecast.map((data) => (\r\n            <div\r\n              key={data.dt_txt}\r\n              className=\"d-flex flex-row\r\n              align-items-center\"\r\n            >\r\n              <p className=\"h5 mb-0\">\r\n                <Moment unix format=\"HH:mm\" tz=\"UTC\">\r\n                  {/* convert to local timezone */}\r\n                  {data.dt + timeZone}\r\n                </Moment>\r\n                :\r\n              </p>\r\n              <img\r\n                src={`https://openweathermap.org/img/wn/${data.weather[0].icon}.png`}\r\n                alt=\"weather condition\"\r\n              ></img>\r\n              <p className=\"fw-light fs-5 mb-0\">\r\n                {Math.round(data.main.temp)}°{displayTemp} -{\" \"}\r\n                {capitalizeFirstLetter(data.weather[0].description)}. Feels\r\n                like: {Math.round(data.main.feels_like)}°{displayTemp}.\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* for 5 days forecast */}\r\n      <div className=\"card mt-3\">\r\n        <div className=\"card-header lead\">Next 5 days forecast:</div>\r\n        <div className=\"card-body d-flex flex-column overflow-auto \">\r\n          <ResponsiveContainer width=\"98%\" height={300}>\r\n            <LineChart data={fiveDaysForecast}>\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"high\"\r\n                stroke=\"#8884d8\"\r\n                name=\"Expected high temperature\"\r\n                des\r\n              />\r\n              <XAxis dataKey=\"date\" />\r\n              <YAxis\r\n                width={40}\r\n                label={() => {\r\n                  return (\r\n                    <Text\r\n                      x={-35}\r\n                      y={30}\r\n                      dx={50}\r\n                      dy={150}\r\n                      offset={0}\r\n                      angle={-90}\r\n                    >\r\n                      Temperature\r\n                    </Text>\r\n                  );\r\n                }}\r\n              />\r\n              <Tooltip />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n        {fiveDaysForecast.map((data) => (\r\n          <div\r\n            key={data.date}\r\n            className=\"d-flex flex-row\r\n              align-items-center justify-content-center mx-2\"\r\n          >\r\n            <p className=\"h5 mb-0\">{data.date}:&nbsp;</p>\r\n            {/* <img\r\n              src={`http://openweathermap.org/img/wn/${data.weather[0].icon}.png`}\r\n              alt=\"weather condition\"\r\n            ></img> */}\r\n            <span className=\"fw-light mb-0 fs-5\">\r\n              High:&nbsp;\r\n              {Math.round(data.high)}°{displayTemp} - Low:&nbsp;\r\n              {Math.round(data.low)}°{displayTemp}.\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Container, Button, ListGroup } from \"react-bootstrap\";\r\nimport \"moment-timezone\";\r\nimport { Route, Switch, Link, Redirect, HashRouter } from \"react-router-dom\";\r\nimport CurrentWeather from \"./CurrentWeather\";\r\nimport FiveDaysWeather from \"./FiveDaysWeather\";\r\nimport \"./style.css\";\r\n\r\nexport default function Weather({\r\n  weather,\r\n  unit,\r\n  handleRefresh,\r\n  handleChangeReport,\r\n  forecast,\r\n}) {\r\n  //state for which component is active\r\n  //0 is for current weather, 1 is for 5 days forecast\r\n  const [active, setActive] = useState(0);\r\n  const [classNameCurr, setClassNameCurr] = useState();\r\n  const [classNameFiveDays, setClassNameFiveDays] = useState();\r\n\r\n  //check for which link is active, then change the text color using the class name\r\n  useEffect(() => {\r\n    if (active === 0) {\r\n      //the first link is active, set the text to white the the other to black\r\n      setClassNameCurr(\"text-light text-center col\");\r\n      setClassNameFiveDays(\"text-dark text-center col\");\r\n    } else {\r\n      setClassNameCurr(\"text-dark text-center col\");\r\n      setClassNameFiveDays(\"text-light text-center col\");\r\n    }\r\n  }, [active]);\r\n\r\n  //return null if no weather\r\n  if (\r\n    weather &&\r\n    Object.keys(weather).length === 0 &&\r\n    weather.constructor === Object\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      fluid\r\n      className=\"justify-content-center border bg-light\"\r\n      id=\"weatherSection\"\r\n    >\r\n      {/* use a router to get different component */}\r\n      <HashRouter>\r\n        <ul className=\"row p-0\">\r\n          <ListGroup.Item\r\n            as={Link}\r\n            className={classNameCurr}\r\n            to=\"/currentweather\"\r\n            active={active === 0 ? true : false}\r\n            onClick={(e) => {\r\n              setActive(0);\r\n              handleChangeReport(\"current\");\r\n            }}\r\n          >\r\n            Current weather\r\n          </ListGroup.Item>\r\n          <ListGroup.Item\r\n            as={Link}\r\n            className={classNameFiveDays}\r\n            to=\"/fivedaysweather\"\r\n            active={active === 0 ? false : true}\r\n            onClick={() => {\r\n              setActive(1);\r\n              handleChangeReport(\"five days\");\r\n            }}\r\n          >\r\n            3-hour/5-day Forecast\r\n          </ListGroup.Item>\r\n        </ul>\r\n        {/* path to different components */}\r\n        <Switch>\r\n          <Route path=\"/currentweather\">\r\n            <CurrentWeather\r\n              data={weather}\r\n              unit={unit}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Route>\r\n          <Route path=\"/fivedaysweather\">\r\n            <FiveDaysWeather\r\n              data={forecast}\r\n              unit={unit}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n        {/* automatically redirect to the current weather */}\r\n        <Redirect exact from=\"/\" to=\"/currentweather\" />\r\n      </HashRouter>\r\n      <div\r\n        className=\"d-flex flex-row align-items-center \r\n                    justify-content-center\"\r\n      >\r\n        <Button\r\n          style={{ marginTop: 10 }}\r\n          className=\"mb-2\"\r\n          onClick={handleRefresh}\r\n        >\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { Alert, Button } from 'react-bootstrap';\r\nimport React from 'react';\r\n\r\nexport default function ErrorInfo({ showAlert, handleClose, error }) {\r\n    if (showAlert) {\r\n        return (\r\n            <Alert variant=\"danger\">\r\n                <Alert.Heading>Error!</Alert.Heading>\r\n                <p>\r\n                    { error }\r\n                </p>\r\n                <hr />\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Button onClick={handleClose} variant=\"outline-success\">\r\n                        Close \r\n                    </Button>\r\n                </div>\r\n            </Alert>\r\n        )\r\n    }\r\n    return null;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/background-img.c5d3ef9c.jpg\";","import React, { useState, useEffect } from \"react\";\r\nimport { Collapse, Fade } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  getWeatherData,\r\n  getWeatherDataByCity,\r\n  get5daysWeatherData,\r\n  get5daysWeatherByCity,\r\n  getWeatherDataCurrLocation,\r\n  get5daysDataCurrLocation,\r\n} from \"./Components/apis\";\r\nimport CitySearch from \"./Components/CitySearch\";\r\nimport Weather from \"./Components/Weather\";\r\nimport ErrorInfo from \"./Components/ErrorInfo\";\r\nimport axios from \"axios\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport backgroundImg from \"./img/background-img.jpg\";\r\n\r\nfunction App() {\r\n  const [city, setCity] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [weather, setWeather] = useState({});\r\n  const [forecast, setForecast] = useState({});\r\n  const [time, setTime] = useState(new Date().getHours());\r\n  //state for show/hide the weather component\r\n  const [openWeather, setOpenWeather] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  //state for the error we catch\r\n  const [error, setError] = useState(\"\");\r\n  //unit, metric by default\r\n  const [unit, setUnit] = useState(\"metric\");\r\n  //refresh the weather\r\n  const [refresh, setRefresh] = useState(false);\r\n  //current or forecast (5 days)\r\n  const [report, setReport] = useState(\"current\");\r\n  //show/hide the hello text\r\n  const [showInput, setShowInput] = useState(true);\r\n  //the state storing the current location of the user\r\n  //array of 2 elems stand for lat and lon\r\n  //default is 0\r\n  const [location, setLocation] = useState([0, 0]);\r\n  //the user wants to use current location?\r\n  const [useLocation, setUseLocation] = useState(false);\r\n  //or use city search, true by default\r\n  const [useCity, setUseCity] = useState(true);\r\n\r\n  useEffect(() => {\r\n    //get the current time\r\n    setTime(new Date().getHours());\r\n  }, [time]);\r\n\r\n  //this effect will be used every time the city or country or unit changes\r\n  useEffect(() => {\r\n    //only call the api when the user enter a city\r\n    if (useCity) {\r\n      setUseLocation(false);\r\n      if (city !== \"\" || refresh) {\r\n        //don't use location anymore\r\n\r\n        //if user choose current weather, call the API to get the current weather\r\n        if (report === \"current\") {\r\n          if (country === \"\") {\r\n            //call the api and get the current weather\r\n            getWeatherDataByCity(city, unit)\r\n              .then((res) => {\r\n                console.log(\"calling the current weather api with only city\");\r\n                setWeather(res.data);\r\n                //reset the error\r\n                setError(\"\");\r\n              })\r\n              //catch error\r\n              .catch(function (error) {\r\n                //if we got error and respond\r\n                if (error.response) {\r\n                  //set the error message accordingly\r\n                  if (error.response.data.cod === \"404\") {\r\n                    setError(\"Please enter a valid city/country!\");\r\n                  } else if (error.response.data.cod === \"429\") {\r\n                    setError(\r\n                      \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                        \" Please try again in a few minutes...\"\r\n                    );\r\n                  }\r\n                } else if (error.request) {\r\n                  setError(\r\n                    \"Sorry! We are not receiving any request from the server.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              });\r\n          } else {\r\n            //call the api using city and country\r\n            getWeatherData(city, country, unit)\r\n              .then((res) => {\r\n                console.log(\r\n                  \"calling the current weather api with city and country\"\r\n                );\r\n                setWeather(res.data);\r\n                //reset the error\r\n                setError(\"\");\r\n              })\r\n              //catch error\r\n              .catch(function (error) {\r\n                //if we got error\r\n                if (error.response) {\r\n                  //set the error message accordingly\r\n                  if (error.response.data.cod === \"404\") {\r\n                    setError(\"Please enter a valid city/country!\");\r\n                  } else if (error.response.data.cod === \"429\") {\r\n                    setError(\r\n                      \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                        \" Please try again in a few minutes...\"\r\n                    );\r\n                  }\r\n                } else if (error.request) {\r\n                  // The request was made but no response was received\r\n                  console.log(error.request);\r\n                } else if (error.request) {\r\n                  setError(\r\n                    \"Sorry! We are not receiving any request from the server.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              });\r\n          }\r\n        }\r\n        //else show the forecast using the forecast API\r\n        else if (report === \"five days\") {\r\n          if (country === \"\") {\r\n            //call the api and get the forecast\r\n            get5daysWeatherByCity(city, unit)\r\n              .then((res) => {\r\n                console.log(\"calling the FORECAST api with only city\");\r\n                setForecast(res.data);\r\n                //reset the error\r\n                setError(\"\");\r\n              })\r\n              //catch error\r\n              .catch(function (error) {\r\n                //if we got error and respond\r\n                if (error.response) {\r\n                  //set the error message accordingly\r\n                  if (error.response.data.cod === \"404\") {\r\n                    setError(\"Please enter a valid city/country!\");\r\n                  } else if (error.response.data.cod === \"429\") {\r\n                    setError(\r\n                      \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                        \" Please try again in a few minutes...\"\r\n                    );\r\n                  }\r\n                } else if (error.request) {\r\n                  setError(\r\n                    \"Sorry! We are not receiving any request from the server.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              });\r\n          } else {\r\n            //call the forecast api using city and country\r\n            get5daysWeatherData(city, country, unit)\r\n              .then((res) => {\r\n                console.log(\r\n                  \"calling the FORECAST weather api with city and country\"\r\n                );\r\n                setForecast(res.data);\r\n                //reset the error\r\n                setError(\"\");\r\n              })\r\n              //catch error\r\n              .catch(function (error) {\r\n                //if we got error\r\n                if (error.response) {\r\n                  //set the error message accordingly\r\n                  if (error.response.data.cod === \"404\") {\r\n                    setError(\"Please enter a valid city/country!\");\r\n                  } else if (error.response.data.cod === \"429\") {\r\n                    setError(\r\n                      \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                        \" Please try again in a few minutes...\"\r\n                    );\r\n                  }\r\n                } else if (error.request) {\r\n                  // The request was made but no response was received\r\n                  console.log(error.request);\r\n                } else if (error.request) {\r\n                  setError(\r\n                    \"Sorry! We are not receiving any request from the server.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return () => setRefresh(false);\r\n  }, [city, useCity, country, unit, refresh, report]);\r\n\r\n  //effect when the user want to use their current location\r\n  useEffect(() => {\r\n    if (useLocation) {\r\n      setUseCity(false);\r\n      setCity(\"\");\r\n      //if we have location data, lat and lon\r\n      if ((location[0] !== 0 && location[1] !== 0) || refresh) {\r\n        if (report === \"current\") {\r\n          getWeatherDataCurrLocation(location[0], location[1], unit)\r\n            .then((res) => {\r\n              console.log(\r\n                \"calling the current weather api with current location (lat:\" +\r\n                  location[0],\r\n                \",long:\" + location[1]\r\n              );\r\n              setWeather(res.data);\r\n              //reset the error\r\n              setError(\"\");\r\n              //open the weather\r\n              setOpenWeather(true);\r\n              setShowAlert(false);\r\n            }) //catch error\r\n            .catch(function (error) {\r\n              //if we got error and respond\r\n              if (error.response) {\r\n                //set the error message accordingly\r\n                if (error.response.data.cod === \"404\") {\r\n                  setError(\"Please enter a valid city/country!\");\r\n                } else if (error.response.data.cod === \"429\") {\r\n                  setError(\r\n                    \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              } else if (error.request) {\r\n                setError(\r\n                  \"Sorry! We are not receiving any request from the server.\" +\r\n                    \" Please try again in a few minutes...\"\r\n                );\r\n              }\r\n            });\r\n        } else if (report === \"five days\") {\r\n          get5daysDataCurrLocation(location[0], location[1], unit)\r\n            .then((res) => {\r\n              console.log(\r\n                \"calling the current FORECAST api with current location (lat:\" +\r\n                  location[0],\r\n                \",long:\" + location[1]\r\n              );\r\n              setForecast(res.data);\r\n              //reset the error\r\n              setError(\"\");\r\n              setOpenWeather(true);\r\n              setShowAlert(false);\r\n            }) //catch error\r\n            .catch(function (error) {\r\n              //if we got error and respond\r\n              if (error.response) {\r\n                //set the error message accordingly\r\n                if (error.response.data.cod === \"404\") {\r\n                  setError(\"Please enter a valid city/country!\");\r\n                } else if (error.response.data.cod === \"429\") {\r\n                  setError(\r\n                    \"Sorry! The number of calls exceeded the server's allowance.\" +\r\n                      \" Please try again in a few minutes...\"\r\n                  );\r\n                }\r\n              } else if (error.request) {\r\n                setError(\r\n                  \"Sorry! We are not receiving any request from the server.\" +\r\n                    \" Please try again in a few minutes...\"\r\n                );\r\n              }\r\n            });\r\n        }\r\n      }\r\n    }\r\n    return () => {\r\n      setRefresh(false);\r\n    };\r\n  }, [useLocation, location, refresh, report, unit]);\r\n\r\n  //this effect will update page base onthe error and hide/show the weather section\r\n  useEffect(() => {\r\n    if (error !== \"\") {\r\n      setShowAlert(true);\r\n      setOpenWeather(false);\r\n    } else {\r\n      setShowAlert(false);\r\n      //if we have city or the weather data only show the weather\r\n      if (city !== \"\") setOpenWeather(true);\r\n    }\r\n  }, [error, city]);\r\n\r\n  //every time the weather is open, hide the input section\r\n  useEffect(() => {\r\n    if (openWeather)\r\n      //hide the input section so the user have more space\r\n      setShowInput(false);\r\n    else setShowInput(true);\r\n  }, [openWeather]);\r\n\r\n  //handle the 401 since we cannot catch using the .catch\r\n  //using a 401 response interceptor\r\n  axios.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    function (error) {\r\n      if (\"401\" === error.response.status) {\r\n        setError(\r\n          \"Sorry! API key error. Please try again with another API key.\"\r\n        );\r\n      } else {\r\n        return Promise.reject(error);\r\n      }\r\n    }\r\n  );\r\n\r\n  //display the part of day according to the current time\r\n  let partOfDay;\r\n  if (time < 12 && time > 4) partOfDay = \"morning\";\r\n  else if (time < 18 && time > 12) partOfDay = \"afternoon\";\r\n  else partOfDay = \"evening\";\r\n\r\n  //handle the search btn on click\r\n  const handleSearchOnClick = () => {\r\n    //check if we have an error\r\n    if ((error === \"\" && city !== \"\") || useLocation) {\r\n      //show the weather based on the city passed\r\n      //based on the value of the input field\r\n      setShowAlert(false);\r\n      setOpenWeather(!openWeather);\r\n    } else {\r\n      //else\r\n      //set the error if city is not given and the user does not use location\r\n      if (!useLocation && city === \"\") setError(\"You must enter a city first!\");\r\n      //show the alert\r\n      setShowAlert(!showAlert);\r\n    }\r\n  };\r\n\r\n  //handle city change\r\n  const handleCityChange = (newCity) => {\r\n    //set the new city\r\n    setCity(newCity);\r\n    if (city !== \"\") setUseCity(true);\r\n  };\r\n\r\n  //handle country change\r\n  const handleCountryChange = (newCountry) => {\r\n    //set the new country\r\n    setCountry(newCountry);\r\n  };\r\n\r\n  //close alert\r\n  const handleClose = () => {\r\n    setShowAlert(!showAlert);\r\n  };\r\n\r\n  const handleUnitOnChange = (e) => {\r\n    setUnit(e.target.value);\r\n  };\r\n\r\n  //handle the refresh btn\r\n  const handleRefresh = () => {\r\n    //set the state to call the api\r\n    setRefresh(true);\r\n  };\r\n\r\n  const handleChangeReport = (val) => {\r\n    //set the report to 5 days or current\r\n    setReport(val);\r\n  };\r\n\r\n  //this function is to set the location\r\n  const setPosition = (position) => {\r\n    //set the location (lat and long) in the state of the main app\r\n    setLocation([position.coords.latitude, position.coords.longitude]);\r\n  };\r\n\r\n  const handleGetLocation = () => {\r\n    //use the geolocation API to return the user's position\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(setPosition);\r\n      setUseLocation(true);\r\n    } else {\r\n      setError(\r\n        \"Sorry! We couldn't get your geolocation. Either your browser does not support it or you did not give the permission. Please try again.\"\r\n      );\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <HashRouter basename=\"/\">\r\n      <div\r\n        className=\"d-flex justify-content-center align-items-center\r\n       flex-column h-100\"\r\n        style={{\r\n          backgroundImage: `url(${backgroundImg})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundPosition: \"center center\",\r\n        }}\r\n      >\r\n        {/* display if weather is not shown */}\r\n        <p className={showInput ? \"display-6 text-center w-100\" : \"d-none\"}>\r\n          Good {partOfDay}! Welcome to my weather app.\r\n        </p>\r\n        <CitySearch\r\n          //pass these functions and props down\r\n          handleSearchOnClick={handleSearchOnClick}\r\n          handleCityChange={handleCityChange}\r\n          handleCountryChange={handleCountryChange}\r\n          handleUnitOnChange={handleUnitOnChange}\r\n          handleGetLocation={handleGetLocation}\r\n          openWeather={openWeather}\r\n          showAlert={showAlert}\r\n          unit={unit}\r\n          useCity={useCity}\r\n        />\r\n        <Fade in={showAlert} unmountOnExit={true}>\r\n          <div id=\"alert\">\r\n            <ErrorInfo\r\n              showAlert={showAlert}\r\n              handleClose={handleClose}\r\n              error={error}\r\n            />\r\n          </div>\r\n        </Fade>\r\n        <Collapse in={openWeather} unmountOnExit={true}>\r\n          <div id=\"weather\" className=\"overflow-auto m-0 p-0\">\r\n            <Weather\r\n              weather={weather}\r\n              unit={unit}\r\n              forecast={forecast}\r\n              handleRefresh={handleRefresh}\r\n              handleChangeReport={handleChangeReport}\r\n            />\r\n          </div>\r\n        </Collapse>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}